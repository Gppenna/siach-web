<div class="app-page-container-bottomsheet">
	<div class="app-page-bottomsheet-header py-3">
		<h1>{{new ? 'Novo' : 'Editar'}} Grupo do Barema</h1>
	</div>
	<ng-template [ngIf]="!loading && !actionComplete && !error">
		<form [formGroup]="formControl" style="font-size: 16px">
			<div class="app-page-bottomsheet-content">
				<mat-form-field class="app-page-form-full" appearance="outline">
					<mat-label>Número</mat-label>
					<input matInput required="true" type="number" formControlName="numero" />
				</mat-form-field>
			</div>
			<div class="app-page-bottomsheet-content">
				<mat-form-field class="app-page-form-full" appearance="outline">
					<mat-label>Nome do Grupo</mat-label>
					<input matInput required="true" type="text" formControlName="descricao" />
				</mat-form-field>
			</div>
			<div class="app-page-bottomsheet-content">
				<mat-form-field class="app-page-form-full" appearance="outline">
					<mat-label>Máximo de Horas</mat-label>
					<input matInput required="true" type="number" formControlName="minimoHoras" />
				</mat-form-field>
			</div>
			<div class="app-page-bottomsheet-actions">
				<button class="btn btn-danger-small" (click)="onCancel($event)">Cancelar</button>
				<button class="btn btn-primary-small" [disabled]="!formControl.valid" color="primary" (click)="save(formControl.value)">
					{{new ? 'Criar' : 'Editar'}}
				</button>
			</div>
		</form>
	</ng-template>
	<ng-template [ngIf]="loading">
		<div style="padding: 3rem 0px; text-align: center">
			<mat-spinner class="normal-stroke" style="margin: 0px auto"></mat-spinner>
		</div>
	</ng-template>

	<ng-template [ngIf]="!loading && actionComplete">
		<p>
			Grupo: <strong> {{formControl.value.descricao? formControl.value.descricao : ''}}</strong> foi {{new ? 'adicionado' : 'editado'}} com sucesso
		</p>
		<div class="app-page-bottomsheet-actions">
			<button class="btn btn-primary-small" (click)="onCancel($event)">Ok</button>
		</div>
	</ng-template>

	<ng-template [ngIf]="!loading && error">
		<p>
			Grupo <strong>{{formControl.value.descricao}}</strong> não foi {{new ? 'adicionado' : 'editado'}} <br />
			<small>{{ error.message }}</small>
		</p>
		<div class="app-page-bottomsheet-actions">
			<button class="btn btn-primary-small" (click)="onCancel($event)">Ok</button>
		</div>
	</ng-template>
</div>
