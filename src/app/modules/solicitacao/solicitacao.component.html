<section class="d-flex flex-column mt-5">
    <div>
        <div>
            <div>
                <h1>Cadastrar Solicitações</h1>
            </div>
            <div class="d-flex flex-column m-auto userCard-container py-5 mt-2">
                <div class="row userCard mb-4" *ngIf="userData">
                    <div class="col d-flex flex-column gap-3 nunito">
                        <div class="row">
                            <span class="col-3 strong">Nome:</span>
                            <span class="col-6">{{userData.nome}}</span>
                        </div>
                        <div class="row">
                            <span class="col-3 strong">Curso:</span>
                            <span class="col-6">{{userData.curso.descricao}}</span>
                        </div>
                    </div>
                    <div class="col d-flex flex-column gap-3 nunito">
                        <div class="row">
                            <span class="col-3 strong">Matrícula:</span>
                            <span class="col-6">{{userData.matricula}}</span>
                        </div>
                        <div class="row">
                            <span class="col-3 strong">E-mail:</span>
                            <span class="col-6">{{userData.email}}</span>
                        </div>
                    </div>
                </div>
                <span><span class="highlight">Cadastre várias solicitações de uma só vez!</span> As solicitações abaixo são salvas como rascunho para você poder edita-las antes de enviar, para enviá-las para análise do colegiado clique no botão
                <span class="highlight">"Enviar Solicitações"</span>.</span>
                <span class="mt-3"><span class="highlight">Caso saia desta página seus rascunhos ficam salvos</span>, você poderá visualizá-los novamente ao retornar :)</span>
            </div>
            <div class="d-flex justify-content-between gap-3 solicitacaoCard">
                <h2 style="font-weight: 500;">Solicitações Pendentes de Envio - Rascunho</h2>
                <button class="btn btn-new" style="width: 210px!important" (click)="novaDivulgacaoAtividade()"><mat-icon>add_circle</mat-icon>Criar Solicitação</button>
            </div>

            <ng-template [ngIf]="dataSource.length > 0">
                <div class="d-flex flex-wrap justify-content-between">
                    <div class="card-container my-4" style="width: 47%; position: relative;" *ngFor="let atividade of dataSource">
                        <div class="d-flex" style="padding: 1rem;">
                            <div style="padding: 1rem;">
                                <div class="px-2">
                                    <div class="d-flex mb-3 gap-2">
                                        <mat-icon style="transform: scale(1.5); cursor: pointer;position: absolute; left: 9%" (click)="editSolicitacao(atividade)">edit_note</mat-icon>
                                        <h2 style="margin-left:3rem; max-width: 70%">{{atividade.titulo}}</h2>
                                        <div class="chip primary" style="position: absolute; left: 80%">
                                            {{atividade.horas}} horas
                                        </div>
                                    </div>

                                    <h3>{{atividade.grupoBarema?.descricao}}</h3>
                                </div>

                                <mat-divider style="border-top-color: #000"></mat-divider>
                                <div class="mt-3 d-flex gap-4">
                                    <h4>Atividade:</h4>
                                    <span style="font-size: 18px;">
                                            {{atividade.atividadeBarema?.descricao}}
                                        </span>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-end">
                    <button class="btn btn-primary" style="font-size: 20px;" [disabled]="dataSource.length === 0" color="primary" (click)="ativar()">
                        Enviar Solicitações
                    </button>
                </div>
            </ng-template>
            <ng-template [ngIf]="dataSource.length === 0">
                <div class="app-page-messages" style="padding-top: 15vh!important;">
                    <mat-icon>search_off</mat-icon>
                    <h5 class="nunito">Você não possui solicitações!</h5>
                </div>
            </ng-template>
        </div>

    </div>

</section>
<div class="bottom"></div>